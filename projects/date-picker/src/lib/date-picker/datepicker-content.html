<div
  cdkTrapFocus
  role="dialog"
  class="flex flex-col flex-auto overflow-hidden rounded-lg"
  [attr.aria-modal]="true"
  [attr.aria-labelledby]="_dialogLabelId ?? undefined"
>
  <div class="flex flex-col px-3 py-2 bg-primary">
    <div class="flex flex-col">
      <span class="text-xs font-normal tracking-wider uppercase text-primary-content">
        Selected date
      </span>
    </div>
    <div class="flex flex-col mt-4">
      <span class="text-xl font-normal text-primary-content">
        {{ _getSelectedDisplay() }}
      </span>
    </div>
  </div>

  <calendar
    class="flex-auto"
    [id]="datepicker.id"
    [ngClass]="datepicker.panelClass"
    [startAt]="datepicker.startAt"
    [startView]="datepicker.startView"
    [minDate]="datepicker._getMinDate()"
    [maxDate]="datepicker._getMaxDate()"
    [dateFilter]="datepicker._getDateFilter()"
    [headerComponent]="datepicker.calendarHeaderComponent"
    [selected]="_getSelected()"
    [dateClass]="datepicker.dateClass"
    [comparisonStart]="comparisonStart"
    [comparisonEnd]="comparisonEnd"
    [@fadeInCalendar]="'enter'"
    [startDateAccessibleName]="startDateAccessibleName"
    [endDateAccessibleName]="endDateAccessibleName"
    (yearSelected)="datepicker._selectYear($event)"
    (monthSelected)="datepicker._selectMonth($event)"
    (viewChanged)="datepicker._viewChanged($event)"
    (_userSelection)="_handleUserSelection($event)"
    (_userDragDrop)="_handleUserDragDrop($event)"
  />

  <div class="flex items-center justify-end w-full gap-3 px-3 py-3">
    <button
      type="button"
      class="btn"
      [class.cdk-visually-hidden]="!_closeButtonFocused"
      (focus)="_closeButtonFocused = true"
      (blur)="_closeButtonFocused = false"
      (click)="datepicker.close()"
    >
      Close
    </button>

    <button
      type="button"
      class="btn btn-primary"
      (click)="datepicker.apply()"
    >
      Apply
    </button>
  </div>
</div>
