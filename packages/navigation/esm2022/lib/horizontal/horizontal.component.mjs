import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation, } from '@angular/core';
import { ReplaySubject, Subject } from 'rxjs';
import { UtilsHelper } from '../utils.helper';
import { HorizontalNavigationBasicItemComponent } from './components/basic/basic.component';
import { HorizontalNavigationBranchItemComponent } from './components/branch/branch.component';
import { HorizontalNavigationSpacerItemComponent } from './components/spacer/spacer.component';
import * as i0 from "@angular/core";
import * as i1 from "../navigation.service";
export class HorizontalNavigationComponent {
    _changeDetectorRef;
    _navigationService;
    name = UtilsHelper.randomId();
    navigation;
    onRefreshed = new ReplaySubject(1);
    _unsubscribeAll = new Subject();
    /**
     * Constructor
     */
    constructor(_changeDetectorRef, _navigationService) {
        this._changeDetectorRef = _changeDetectorRef;
        this._navigationService = _navigationService;
    }
    // -----------------------------------------------------------------------------------------------------
    // @ Lifecycle hooks
    // -----------------------------------------------------------------------------------------------------
    ngOnChanges(changes) {
        // Navigation
        if ('navigation' in changes) {
            // Mark for check
            this._changeDetectorRef.markForCheck();
        }
    }
    ngOnInit() {
        // Make sure the name input is not an empty string
        if (this.name === '') {
            this.name = UtilsHelper.randomId();
        }
        // Register the navigation component
        this._navigationService.registerComponent(this.name, this);
    }
    ngOnDestroy() {
        // Deregister the navigation component from the registry
        this._navigationService.deregisterComponent(this.name);
        // Unsubscribe from all subscriptions
        this._unsubscribeAll.next(null);
        this._unsubscribeAll.complete();
    }
    // -----------------------------------------------------------------------------------------------------
    // @ Public methods
    // -----------------------------------------------------------------------------------------------------
    refresh() {
        this._changeDetectorRef.markForCheck();
        this.onRefreshed.next(true);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: HorizontalNavigationComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.NavigationService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: HorizontalNavigationComponent, isStandalone: true, selector: "horizontal-navigation", inputs: { name: "name", navigation: "navigation" }, exportAs: ["horizontalNavigation"], usesOnChanges: true, ngImport: i0, template: "<div class=\"horizontal-navigation-wrapper\">\n  @for (item of navigation; track item.id) {\n    <!-- Skip the hidden items -->\n    @if ((item.hidden && !item.hidden(item)) || !item.hidden) {\n      <!-- Basic -->\n      @if (item.type === 'basic') {\n        <horizontal-navigation-basic-item\n          class=\"horizontal-navigation-menu-item\"\n          [item]=\"item\"\n          [name]=\"name\"\n        />\n      }\n\n      <!-- Branch: aside, collapsable, group -->\n      @if (item.type === 'aside' || item.type === 'collapsable' || item.type === 'group') {\n        <horizontal-navigation-branch-item\n          class=\"horizontal-navigation-menu-item\"\n          [item]=\"item\"\n          [name]=\"name\"\n        />\n      }\n\n      <!-- Spacer -->\n      @if (item.type === 'spacer') {\n        <horizontal-navigation-spacer-item\n          class=\"horizontal-navigation-menu-item\"\n          [item]=\"item\"\n          [name]=\"name\"\n        />\n      }\n    }\n  }\n</div>\n", styles: ["horizontal-navigation .horizontal-navigation-wrapper{display:flex;align-items:center}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-wrapper,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-branch-item .horizontal-navigation-item-wrapper{border-radius:4px;overflow:hidden}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-wrapper .horizontal-navigation-item,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-branch-item .horizontal-navigation-item-wrapper .horizontal-navigation-item{padding:0 16px;cursor:pointer;-webkit-user-select:none;user-select:none}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-icon,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-branch-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-icon{margin-right:12px}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-title,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-title{color:var(--fallback-p, oklch(var(--p)))!important}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-subtitle,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-subtitle{color:var(--fallback-p, oklch(var(--p)))!important}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-icon,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-icon{color:var(--fallback-p, oklch(var(--p)))!important}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-spacer-item{margin:12px 0}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item{height:auto;min-height:0;line-height:normal;white-space:normal}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-basic-item,.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-branch-item,.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-divider-item{display:flex;flex:1 1 auto}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-divider-item{margin:8px -16px}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-divider-item .horizontal-navigation-item-wrapper{height:1px;box-shadow:0 1px}.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-title,.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-title{color:var(--fallback-p, oklch(var(--p)))!important}.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-subtitle,.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-subtitle{color:var(--fallback-p, oklch(var(--p)))!important}.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-icon,.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-icon{color:var(--fallback-p, oklch(var(--p)))!important}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper{width:100%}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper.horizontal-navigation-item-has-subtitle .horizontal-navigation-item{min-height:56px}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item{position:relative;display:flex;align-items:center;justify-content:flex-start;min-height:48px;width:100%;font-size:13px;font-weight:500;text-decoration:none}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-title-wrapper .horizontal-navigation-item-subtitle{font-size:10px}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-badge{margin-left:auto}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-badge .horizontal-navigation-item-badge-content{display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;white-space:nowrap;height:20px}\n"], dependencies: [{ kind: "component", type: HorizontalNavigationBasicItemComponent, selector: "horizontal-navigation-basic-item", inputs: ["item", "name"] }, { kind: "component", type: HorizontalNavigationBranchItemComponent, selector: "horizontal-navigation-branch-item", inputs: ["child", "item", "name"] }, { kind: "component", type: HorizontalNavigationSpacerItemComponent, selector: "horizontal-navigation-spacer-item", inputs: ["item", "name"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: HorizontalNavigationComponent, decorators: [{
            type: Component,
            args: [{ selector: 'horizontal-navigation', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, exportAs: 'horizontalNavigation', standalone: true, imports: [
                        HorizontalNavigationBasicItemComponent,
                        HorizontalNavigationBranchItemComponent,
                        HorizontalNavigationSpacerItemComponent,
                    ], template: "<div class=\"horizontal-navigation-wrapper\">\n  @for (item of navigation; track item.id) {\n    <!-- Skip the hidden items -->\n    @if ((item.hidden && !item.hidden(item)) || !item.hidden) {\n      <!-- Basic -->\n      @if (item.type === 'basic') {\n        <horizontal-navigation-basic-item\n          class=\"horizontal-navigation-menu-item\"\n          [item]=\"item\"\n          [name]=\"name\"\n        />\n      }\n\n      <!-- Branch: aside, collapsable, group -->\n      @if (item.type === 'aside' || item.type === 'collapsable' || item.type === 'group') {\n        <horizontal-navigation-branch-item\n          class=\"horizontal-navigation-menu-item\"\n          [item]=\"item\"\n          [name]=\"name\"\n        />\n      }\n\n      <!-- Spacer -->\n      @if (item.type === 'spacer') {\n        <horizontal-navigation-spacer-item\n          class=\"horizontal-navigation-menu-item\"\n          [item]=\"item\"\n          [name]=\"name\"\n        />\n      }\n    }\n  }\n</div>\n", styles: ["horizontal-navigation .horizontal-navigation-wrapper{display:flex;align-items:center}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-wrapper,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-branch-item .horizontal-navigation-item-wrapper{border-radius:4px;overflow:hidden}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-wrapper .horizontal-navigation-item,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-branch-item .horizontal-navigation-item-wrapper .horizontal-navigation-item{padding:0 16px;cursor:pointer;-webkit-user-select:none;user-select:none}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-icon,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-branch-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-icon{margin-right:12px}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-title,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-title{color:var(--fallback-p, oklch(var(--p)))!important}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-subtitle,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-subtitle{color:var(--fallback-p, oklch(var(--p)))!important}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-icon,horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-icon{color:var(--fallback-p, oklch(var(--p)))!important}horizontal-navigation .horizontal-navigation-wrapper horizontal-navigation-spacer-item{margin:12px 0}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item{height:auto;min-height:0;line-height:normal;white-space:normal}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-basic-item,.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-branch-item,.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-divider-item{display:flex;flex:1 1 auto}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-divider-item{margin:8px -16px}.horizontal-navigation-menu-panel .horizontal-navigation-menu-item horizontal-navigation-divider-item .horizontal-navigation-item-wrapper{height:1px;box-shadow:0 1px}.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-title,.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-title{color:var(--fallback-p, oklch(var(--p)))!important}.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-subtitle,.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-subtitle{color:var(--fallback-p, oklch(var(--p)))!important}.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active .horizontal-navigation-item-icon,.horizontal-navigation-menu-item horizontal-navigation-basic-item .horizontal-navigation-item-active-forced .horizontal-navigation-item-icon{color:var(--fallback-p, oklch(var(--p)))!important}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper{width:100%}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper.horizontal-navigation-item-has-subtitle .horizontal-navigation-item{min-height:56px}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item{position:relative;display:flex;align-items:center;justify-content:flex-start;min-height:48px;width:100%;font-size:13px;font-weight:500;text-decoration:none}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-title-wrapper .horizontal-navigation-item-subtitle{font-size:10px}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-badge{margin-left:auto}.horizontal-navigation-menu-item .horizontal-navigation-item-wrapper .horizontal-navigation-item .horizontal-navigation-item-badge .horizontal-navigation-item-badge-content{display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;white-space:nowrap;height:20px}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }, { type: i1.NavigationService }], propDecorators: { name: [{
                type: Input
            }], navigation: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9yaXpvbnRhbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25hdmlnYXRpb24vc3JjL2xpYi9ob3Jpem9udGFsL2hvcml6b250YWwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vbGlicy9uYXZpZ2F0aW9uL3NyYy9saWIvaG9yaXpvbnRhbC9ob3Jpem9udGFsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFFdkIsU0FBUyxFQUNULEtBQUssRUFLTCxpQkFBaUIsR0FDbEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFLOUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxzQ0FBc0MsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQzVGLE9BQU8sRUFBRSx1Q0FBdUMsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQy9GLE9BQU8sRUFBRSx1Q0FBdUMsRUFBRSxNQUFNLHNDQUFzQyxDQUFDOzs7QUFnQi9GLE1BQU0sT0FBTyw2QkFBNkI7SUFXOUI7SUFDQTtJQVhELElBQUksR0FBVyxXQUFXLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDdEMsVUFBVSxDQUFtQjtJQUV0QyxXQUFXLEdBQTJCLElBQUksYUFBYSxDQUFVLENBQUMsQ0FBQyxDQUFDO0lBQzVELGVBQWUsR0FBaUIsSUFBSSxPQUFPLEVBQU8sQ0FBQztJQUUzRDs7T0FFRztJQUNILFlBQ1Usa0JBQXFDLEVBQ3JDLGtCQUFxQztRQURyQyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW1CO1FBQ3JDLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBbUI7SUFDNUMsQ0FBQztJQUVKLHdHQUF3RztJQUN4RyxvQkFBb0I7SUFDcEIsd0dBQXdHO0lBRXhHLFdBQVcsQ0FBQyxPQUFzQjtRQUNoQyxhQUFhO1FBQ2IsSUFBSSxZQUFZLElBQUksT0FBTyxFQUFFLENBQUM7WUFDNUIsaUJBQWlCO1lBQ2pCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN6QyxDQUFDO0lBQ0gsQ0FBQztJQUVELFFBQVE7UUFDTixrREFBa0Q7UUFDbEQsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLEVBQUUsRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLENBQUM7UUFFRCxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELFdBQVc7UUFDVCx3REFBd0Q7UUFDeEQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV2RCxxQ0FBcUM7UUFDckMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRUQsd0dBQXdHO0lBQ3hHLG1CQUFtQjtJQUNuQix3R0FBd0c7SUFFeEcsT0FBTztRQUNMLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN2QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixDQUFDO3dHQXJEVSw2QkFBNkI7NEZBQTdCLDZCQUE2Qiw4TENuQzFDLHMrQkFpQ0EsdW5LREhJLHNDQUFzQyx1R0FDdEMsdUNBQXVDLGlIQUN2Qyx1Q0FBdUM7OzRGQUc5Qiw2QkFBNkI7a0JBZHpDLFNBQVM7K0JBQ0UsdUJBQXVCLGlCQUdsQixpQkFBaUIsQ0FBQyxJQUFJLG1CQUNwQix1QkFBdUIsQ0FBQyxNQUFNLFlBQ3JDLHNCQUFzQixjQUNwQixJQUFJLFdBQ1A7d0JBQ1Asc0NBQXNDO3dCQUN0Qyx1Q0FBdUM7d0JBQ3ZDLHVDQUF1QztxQkFDeEM7c0hBR1EsSUFBSTtzQkFBWixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJlcGxheVN1YmplY3QsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9uYXZpZ2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgTmF2aWdhdGlvbkl0ZW0gfSBmcm9tICcuLi9uYXZpZ2F0aW9uLnR5cGVzJztcblxuaW1wb3J0IHsgVXRpbHNIZWxwZXIgfSBmcm9tICcuLi91dGlscy5oZWxwZXInO1xuaW1wb3J0IHsgSG9yaXpvbnRhbE5hdmlnYXRpb25CYXNpY0l0ZW1Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvYmFzaWMvYmFzaWMuY29tcG9uZW50JztcbmltcG9ydCB7IEhvcml6b250YWxOYXZpZ2F0aW9uQnJhbmNoSXRlbUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9icmFuY2gvYnJhbmNoLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBIb3Jpem9udGFsTmF2aWdhdGlvblNwYWNlckl0ZW1Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvc3BhY2VyL3NwYWNlci5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdob3Jpem9udGFsLW5hdmlnYXRpb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vaG9yaXpvbnRhbC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2hvcml6b250YWwuY29tcG9uZW50LnNjc3MnXSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGV4cG9ydEFzOiAnaG9yaXpvbnRhbE5hdmlnYXRpb24nLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbXG4gICAgSG9yaXpvbnRhbE5hdmlnYXRpb25CYXNpY0l0ZW1Db21wb25lbnQsXG4gICAgSG9yaXpvbnRhbE5hdmlnYXRpb25CcmFuY2hJdGVtQ29tcG9uZW50LFxuICAgIEhvcml6b250YWxOYXZpZ2F0aW9uU3BhY2VySXRlbUNvbXBvbmVudCxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgSG9yaXpvbnRhbE5hdmlnYXRpb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgbmFtZTogc3RyaW5nID0gVXRpbHNIZWxwZXIucmFuZG9tSWQoKTtcbiAgQElucHV0KCkgbmF2aWdhdGlvbjogTmF2aWdhdGlvbkl0ZW1bXTtcblxuICBvblJlZnJlc2hlZDogUmVwbGF5U3ViamVjdDxib29sZWFuPiA9IG5ldyBSZXBsYXlTdWJqZWN0PGJvb2xlYW4+KDEpO1xuICBwcml2YXRlIF91bnN1YnNjcmliZUFsbDogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3Q8YW55PigpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIHByaXZhdGUgX25hdmlnYXRpb25TZXJ2aWNlOiBOYXZpZ2F0aW9uU2VydmljZVxuICApIHt9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gQCBMaWZlY3ljbGUgaG9va3NcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgLy8gTmF2aWdhdGlvblxuICAgIGlmICgnbmF2aWdhdGlvbicgaW4gY2hhbmdlcykge1xuICAgICAgLy8gTWFyayBmb3IgY2hlY2tcbiAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGUgbmFtZSBpbnB1dCBpcyBub3QgYW4gZW1wdHkgc3RyaW5nXG4gICAgaWYgKHRoaXMubmFtZSA9PT0gJycpIHtcbiAgICAgIHRoaXMubmFtZSA9IFV0aWxzSGVscGVyLnJhbmRvbUlkKCk7XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgdGhlIG5hdmlnYXRpb24gY29tcG9uZW50XG4gICAgdGhpcy5fbmF2aWdhdGlvblNlcnZpY2UucmVnaXN0ZXJDb21wb25lbnQodGhpcy5uYW1lLCB0aGlzKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIERlcmVnaXN0ZXIgdGhlIG5hdmlnYXRpb24gY29tcG9uZW50IGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgdGhpcy5fbmF2aWdhdGlvblNlcnZpY2UuZGVyZWdpc3RlckNvbXBvbmVudCh0aGlzLm5hbWUpO1xuXG4gICAgLy8gVW5zdWJzY3JpYmUgZnJvbSBhbGwgc3Vic2NyaXB0aW9uc1xuICAgIHRoaXMuX3Vuc3Vic2NyaWJlQWxsLm5leHQobnVsbCk7XG4gICAgdGhpcy5fdW5zdWJzY3JpYmVBbGwuY29tcGxldGUoKTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIEAgUHVibGljIG1ldGhvZHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICByZWZyZXNoKCk6IHZvaWQge1xuICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICAgIHRoaXMub25SZWZyZXNoZWQubmV4dCh0cnVlKTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImhvcml6b250YWwtbmF2aWdhdGlvbi13cmFwcGVyXCI+XG4gIEBmb3IgKGl0ZW0gb2YgbmF2aWdhdGlvbjsgdHJhY2sgaXRlbS5pZCkge1xuICAgIDwhLS0gU2tpcCB0aGUgaGlkZGVuIGl0ZW1zIC0tPlxuICAgIEBpZiAoKGl0ZW0uaGlkZGVuICYmICFpdGVtLmhpZGRlbihpdGVtKSkgfHwgIWl0ZW0uaGlkZGVuKSB7XG4gICAgICA8IS0tIEJhc2ljIC0tPlxuICAgICAgQGlmIChpdGVtLnR5cGUgPT09ICdiYXNpYycpIHtcbiAgICAgICAgPGhvcml6b250YWwtbmF2aWdhdGlvbi1iYXNpYy1pdGVtXG4gICAgICAgICAgY2xhc3M9XCJob3Jpem9udGFsLW5hdmlnYXRpb24tbWVudS1pdGVtXCJcbiAgICAgICAgICBbaXRlbV09XCJpdGVtXCJcbiAgICAgICAgICBbbmFtZV09XCJuYW1lXCJcbiAgICAgICAgLz5cbiAgICAgIH1cblxuICAgICAgPCEtLSBCcmFuY2g6IGFzaWRlLCBjb2xsYXBzYWJsZSwgZ3JvdXAgLS0+XG4gICAgICBAaWYgKGl0ZW0udHlwZSA9PT0gJ2FzaWRlJyB8fCBpdGVtLnR5cGUgPT09ICdjb2xsYXBzYWJsZScgfHwgaXRlbS50eXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIDxob3Jpem9udGFsLW5hdmlnYXRpb24tYnJhbmNoLWl0ZW1cbiAgICAgICAgICBjbGFzcz1cImhvcml6b250YWwtbmF2aWdhdGlvbi1tZW51LWl0ZW1cIlxuICAgICAgICAgIFtpdGVtXT1cIml0ZW1cIlxuICAgICAgICAgIFtuYW1lXT1cIm5hbWVcIlxuICAgICAgICAvPlxuICAgICAgfVxuXG4gICAgICA8IS0tIFNwYWNlciAtLT5cbiAgICAgIEBpZiAoaXRlbS50eXBlID09PSAnc3BhY2VyJykge1xuICAgICAgICA8aG9yaXpvbnRhbC1uYXZpZ2F0aW9uLXNwYWNlci1pdGVtXG4gICAgICAgICAgY2xhc3M9XCJob3Jpem9udGFsLW5hdmlnYXRpb24tbWVudS1pdGVtXCJcbiAgICAgICAgICBbaXRlbV09XCJpdGVtXCJcbiAgICAgICAgICBbbmFtZV09XCJuYW1lXCJcbiAgICAgICAgLz5cbiAgICAgIH1cbiAgICB9XG4gIH1cbjwvZGl2PlxuIl19